<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://takip.me/CampusCompanion/CSS/base.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


    <script>
        $(function () {
            var profs = [];

            var url1 = new URL(window.location.href)
            if (typeof url1.searchParams != 'undefined') {
                prog = url1.searchParams.get("prog");

                prog = prog == null ? 'Business' : prog;
            }








            $(document).ready(function () {



                $('#list-makers').click(function () {
                    $("#profDetails tbody").empty();
                    prog = $("option:selected").val();

                    var JSLink = "http://takip.me/CampusCompanion/ProfData/" + prog + ".json";

                    $.getJSON(JSLink, function (arr) {
                        $.each(arr.prof, function (i, f) {
                            var tblRow = "<tr>" + "<td>" + f.name + "</td>" +
                                "<td>" + f.dept + "</td>" +
                                "<td>" + f.office + "</td>" +
                                "<td>" + f.phone + "</td>" +
                                "<td>" + f.email + "</td>" + "</tr>"

                            $(tblRow).appendTo("#profDetails tbody");
                        })

                    })
                });
            });




        });


    </script>



    <!--
    <script>
        $("#searchterm").keyup(function(e){
            var q = $("#searchterm").val();
            $.getJSON('prof.json', function(data){
                $.each(data.prof, function(i, f){
                        var tblRow = "<tr>" + "<td>" + f.name + "</td>" + 
                                              "<td>" + f.dept + "</td>" +
                                              "<td>" + f.office + "</td>" +
                                              "<td>" + f.phone + "</td>" + 
                                              "<td>" + f.email + "</td>" + "</tr>"
                        $(tblRow).appendTo("#profDetails tbody")
                    })
                
            });
        });
    </script>
-->

    <!--
    <script>
        $("#searchterm").keyup(function(e){
            var q = $("#searchterm").val();
            $.getJSON('prof.json', function(data){
                $("#results").empty();
                $("#results").append("Results " + q );

                $.each(data.query.search, function(i, item){
                    $("#results").append(item.name);
                });
            });
        });
    </script>
-->



</head>

<body>

    <nav class="navbar navbar-expand-md navbar-light">

        <a id = "TRU" class="navbar-brand" href="../home.html">TRU Campus Companion</a>
        <button id = "button" class="navbar-toggler" type="button"  data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul id = "navBar" class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="profInfo.html">Professor Information</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="lab.html">Computer Lab Information</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="software.html">Lab Software</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="amenities.html">Facilities and Amenities</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="services.html">Campus Services</a>
                </li>
                <li class="nav-item">
                        <a class="nav-link" href="food.html">Food and Drink</a>
                </li>
            </ul>
        </div>
    </nav>
    <br>
    <div class="container">
        <h3>Professor Info</h3>

        <select id="prog">
            <optgroup label="depts">
                <option>Business</option>
                <option>Computing</option>
                <option>English</option>
                <option>ESL</option>
                <option>Geography</option>
                <option>Law</option>
                <option>Math</option>
                <option>Nursing</option>
                <option>Philosophy</option>
                <option>Psychology</option>
                <option>Science</option>
                <option>Visual</option>
            </optgroup>
        </select>

        <button id='list-makers' type="button">Submit</button>



        <table id="profDetails" class="table table-hover table-bordered">
            <thead>
                <tr>
                    <th>Professor's Name</th>
                    <th>Department</th>
                    <th>Office</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                </tr>
            </thead>

            <tbody>

            </tbody>

        </table>

    </div>
</body>

</html>